<?php

namespace AppBundle\Views;

use Framework\Components\View as View;

final class Index extends View {
    use \AppBundle\Traits\ComponentsTrait;

    protected static string|null $defaultViewTitle = 'Accueil';

    protected function render() {
        $this->head(); 
        $this->header();
        ?>
        <main>
        <?php
        if (!$this->getSessionUser()) {
        ?>
        <?php if ($this->get('error')) echo '<p id="error">' . $this->get('error') . '.<p>'; ?>
        <?php if ($this->get('alert')) echo '<p id="alert">' . $this->get('alert') . '.<p>'; ?>
        <section id="homepage-1">
            <h1 id="writing-title">Vos films préférés, pour seulement 4,99€ par mois.</h1>
        </section>
        <section id="homepage-2"></section>
        <?php 
        } else {
        ?>
            <p><?= var_dump($this->getSessionUser()); ?></p>
        <?php
        }
        $this->footer(); ?>
        </main>
        <script src="/js/views/index.js" type="module" namespace="index"></script>
        </body>
        </html>
        <?php
    }
}
