<?php

namespace AppBundle\Views;

use Framework\Components\View as View;

final class Index extends View {
    use \AppBundle\Traits\ComponentsTrait;

    protected static string|null $defaultViewTitle = 'Accueil';

    protected function render() {
        $this->head(); 
        $this->header();
        ?>
        <main>
        <?php
        if (!$this->getSessionUser()) {
        ?>
        <?php if ($this->get('error')) echo '<p id="error">' . $this->get('error') . '.<p>'; ?>
        <?php if ($this->get('alert')) echo '<p id="alert">' . $this->get('alert') . '.<p>'; ?>
        <section id="homepage-1">
            <h1 id="writing-title">Vos films préférés pour seulement 4,99€ par mois.</h1>
        </section>
        <section id="homepage-2">
            <h1 id="annonce">En ce moment</h1>
            <iframe width="1120" height="630" src="https://www.youtube.com/embed/HcoZbHBDHQA?controls=0?autoplay=1&loop=1&playlist=HcoZbHBDHQA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
        </section>

        <?php 
        } else {
        ?>
            <p><?= var_dump($this->getSessionUser()); ?></p>
        <?php
        }
        $this->footer(); ?>
        </main>
        <script src="/js/views/index.js" type="module" namespace="index"></script>
        </body>
        </html>
        <?php
    }
}
